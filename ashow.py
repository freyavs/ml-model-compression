from matplotlib import pyplot as plt


# accs_student_2 = [0.6371999979019165, 0.5964000225067139, 0.6265000104904175, 0.5170000195503235, 0.4260999858379364, 0.2770000100135803, 0.22840000689029694, 0.19359999895095825, ]
# accs_scratch_2 = [0.6777999997138977, 0.6111000180244446, 0.6560999751091003, 0.5562999844551086, 0.43970000743865967, 0.2770000100135803, 0.23849999904632568, 0.17980000376701355, ]
#
# sizes = [28866, 18468, 15002, 7602, 4094, 2457, 1236, 1044]
# accs_student_2.reverse()
# accs_scratch_2.reverse()
# sizes.reverse()
#
# plt.plot(sizes, accs_student_2, label="student2")
# plt.plot(sizes, accs_scratch_2, label="scratch2")
#
# plt.legend()
# plt.show()

# 0.9 alpha
# accuracy_student = [0.684660005569458, 0.6176999926567077, 0.5299799859523773, 0.5642399847507477, 0.45663999319076537, 0.41858, 0.3125999987125397, 0.2224399983882904, 0.20160000026226044]
# kbs = [138.296, 111.11, 72.497, 59.492000000000004, 31.921, 18.735, 12.5, 7.853, 7.125]
# params = [35506.0, 28866.0, 18468.0, 15002.0, 7602.0, 4094.0, 2457.0, 1236.0, 1044.0]
# accuracy_scratch = [0.7289000034332276, 0.6559399962425232, 0.5709400057792664, 0.6042800068855285, 0.4859600067138672, 0.43442, 0.344, 0.2213799983263, 0.20116000175476073]

# accuracy_student = [0.7532599925994873, 0.6762799978256225, 0.5770200014114379, 0.5897799968719483, 0.4791000008583069, 0.37049999833106995, 0.32344000339508056, 0.21869999766349793, 0.19069999754428862]
# kbs = [138.231, 111.074, 72.509, 59.467, 31.914, 18.717, 12.548, 7.8580000000000005, 7.138]
# params = [35506, 28866, 18468, 15002, 7602, 4094, 2457, 1236, 1044 ]
# accuracy_scratch = [0.7693000078201294, 0.6703999996185303, 0.6020800113677979, 0.608679986000061, 0.5295599937438965, 0.38242000341415405, 0.31980000138282777, 0.23783999979496, 0.19130000472068787]

# accuracy_student_resnet = [0.1, 0.42289999127388, 0.5200999975204468, 0.5443999767303467, 0.5788999795913696, 0.605400025844574, 0.6324999928474426, 0.6118999719619751, 0.6492999792098999, 0.6547999978065491, 0.6614999771118164, 0.6985999941825867, 0.6834999918937683, 0.6937000155448914, 0.6819000244140625, 0.699999988079071, 0.7138000130653381, 0.7188000082969666, 0.6955999732017517, 0.7160999774932861, 0.7217000126838684, 0.734000027179718, 0.7200999855995178, 0.718500018119812, 0.7271999716758728, 0.7231000065803528, 0.722100019454956, 0.722000002861023, 0.7282000184059143, 0.6837000250816345, 0.7371000051498413, 0.7294999957084656, 0.742900013923645, 0.7519999742507935, 0.7296000123023987, 0.745199978351593]
# accuracy_student_cnn = [0.1, 0.42250001430511475, 0.522599995136261, 0.5763000249862671, 0.5612000226974487, 0.6347000002861023, 0.6545000076293945, 0.6572999954223633, 0.6714000105857849, 0.6873000264167786, 0.6845999956130981, 0.7042999863624573, 0.6908000111579895, 0.7109000086784363, 0.6829000115394592, 0.7148000001907349, 0.7110000252723694, 0.7138000130653381, 0.7271000146865845, 0.7181000113487244, 0.7318000197410583, 0.7214999794960022, 0.7038000226020813, 0.7193999886512756, 0.7202000021934509, 0.7303000092506409, 0.7275999784469604, 0.7386999726295471, 0.7379000186920166, 0.732200026512146, 0.725600004196167, 0.742900013923645, 0.7451000213623047, 0.7343999743461609, 0.7398999929428101, 0.7160999774932861]
 
accuracy_student = [0.7532599925994873, 0.6762799978256225, 0.5770200014114379, 0.5897799968719483, 0.4791000008583069, 0.37049999833106995]
kbs = [138.231, 111.074, 72.509, 59.467, 31.914, 18.717]
params = [35506, 28866, 18468, 15002, 7602, 4094]
accuracy_scratch = [0.7693000078201294, 0.6703999996185303, 0.6020800113677979, 0.608679986000061, 0.5295599937438965, 0.38242000341415405]

accuracy_student.reverse()
kbs.reverse()
params.reverse()
accuracy_scratch.reverse()

plt.scatter(kbs, accuracy_student, label="normal student")
plt.scatter(kbs, accuracy_scratch, label="normal scratch")
plt.scatter(kbs_student_pruned, accuracy_student_pruned, label="pruned student")
plt.legend()
plt.ylim([0, 1])
plt.xlabel('KBs')
plt.ylabel('Accuracy')

plt.savefig('CNN_ResN.png', dpi=200)
plt.show()

exit()
alphas = []
accs   = []
losses = []
with open('alpha.txt', 'r') as f:
    for line in f.readlines():
        results = line.split(':')[1]
        results = results.split(',')
        
        alphas.append(float(results[0]))
        accs.append(round(float(results[1]), 2))
        losses.append(round(float(results[2]), 2))

# fig = plt.gcf()
# fig.set_size_inches(5, 4)
plt.scatter(alphas, accs, color='orange')
plt.plot(alphas, accs, color='orange', linestyle='dotted')
plt.xlabel('Alpha')
plt.ylabel('Accuracy')
plt.xticks([i/10 for i in range(11)])
plt.xlim([-0.05, max(alphas)+0.05])
# plt.ylim([0, max(accs)+0.5])
plt.ylim([0, 1])
plt.savefig('alpha_acc.png', dpi=200)
plt.show()
plt.scatter(alphas, losses, color='orange')
plt.plot(alphas, losses, color='orange', linestyle='dotted')
plt.xlabel('Alpha')
plt.ylabel('Loss')
plt.xticks([i/10 for i in range(11)])
plt.xlim([-0.05, max(alphas)+0.05])
plt.ylim([0, max(losses)+0.25])
plt.savefig('alpha_loss.png', dpi=200)
plt.show()
